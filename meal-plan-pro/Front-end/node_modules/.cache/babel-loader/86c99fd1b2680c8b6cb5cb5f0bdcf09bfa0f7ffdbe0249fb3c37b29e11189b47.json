{"ast":null,"code":"var _jsxFileName = \"/home/tenka/Unicorn/Cloud_Computing/meal-plan-pro/Front-end/src/components/ModifiedRecipeMealList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModifiedRecetteMealPage({\n  recipeId\n}) {\n  _s();\n  const [recipe, setRecipe] = useState({\n    title: '',\n    prepTime: '',\n    cookTime: '',\n    ingredients: [],\n    instructions: ''\n  });\n  useEffect(() => {\n    // Chargez les détails de la recette à modifier à partir du serveur lorsque le composant est monté\n    if (recipeId) {\n      axios.get(`http://localhost:5000/recipe/${recipeId}`).then(response => {\n        setRecipe(response.data);\n      }).catch(error => {\n        console.error('Erreur lors de la récupération de la recette à modifier : ', error);\n      });\n    }\n  }, [recipeId]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRecipe(prevRecipe => ({\n      ...prevRecipe,\n      [name]: value\n    }));\n  };\n  const sauvegarderRecette = () => {\n    if (recipeId) {\n      // Effectuez une requête PUT pour mettre à jour la recette existante\n      axios.put(`http://localhost:5000/recipe/${recipeId}`, recipe).then(response => {\n        console.log(response.data);\n        alert('Recette mise à jour avec succès !');\n      }).catch(error => {\n        console.error('Erreur lors de la mise à jour de la recette : ', error);\n        alert('Erreur lors de la mise à jour de la recette.');\n      });\n    } else {\n      // Effectuez une requête POST pour ajouter une nouvelle recette\n      axios.post('http://localhost:5000/recipe-list', recipe).then(response => {\n        console.log(response.data);\n        alert('Recette sauvegardée avec succès !');\n      }).catch(error => {\n        console.error('Erreur lors de la sauvegarde de la recette : ', error);\n        alert('Erreur lors de la sauvegarde de la recette.');\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Modifier une recette\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sauvegarderRecette,\n        children: \"Valider et sauvegarder la recette\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(ModifiedRecetteMealPage, \"KxiQEPckxeVIlmd2N7ZK2h/RoX8=\");\n_c = ModifiedRecetteMealPage;\nexport default ModifiedRecetteMealPage;\nvar _c;\n$RefreshReg$(_c, \"ModifiedRecetteMealPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ModifiedRecetteMealPage","recipeId","_s","recipe","setRecipe","title","prepTime","cookTime","ingredients","instructions","get","then","response","data","catch","error","console","handleChange","e","name","value","target","prevRecipe","sauvegarderRecette","put","log","alert","post","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","preventDefault","onClick","_c","$RefreshReg$"],"sources":["/home/tenka/Unicorn/Cloud_Computing/meal-plan-pro/Front-end/src/components/ModifiedRecipeMealList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\n\nfunction ModifiedRecetteMealPage({ recipeId }) {\n    const [recipe, setRecipe] = useState({\n        title: '',\n        prepTime: '',\n        cookTime: '',\n        ingredients: [],\n        instructions: ''\n    });\n\n    useEffect(() => {\n        // Chargez les détails de la recette à modifier à partir du serveur lorsque le composant est monté\n        if (recipeId) {\n            axios.get(`http://localhost:5000/recipe/${recipeId}`)\n                .then(response => {\n                    setRecipe(response.data);\n                })\n                .catch(error => {\n                    console.error('Erreur lors de la récupération de la recette à modifier : ', error);\n                });\n        }\n    }, [recipeId]);\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setRecipe(prevRecipe => ({\n            ...prevRecipe,\n            [name]: value\n        }));\n    };\n\n    const sauvegarderRecette = () => {\n        if (recipeId) {\n            // Effectuez une requête PUT pour mettre à jour la recette existante\n            axios.put(`http://localhost:5000/recipe/${recipeId}`, recipe)\n                .then(response => {\n                    console.log(response.data);\n                    alert('Recette mise à jour avec succès !');\n                })\n                .catch(error => {\n                    console.error('Erreur lors de la mise à jour de la recette : ', error);\n                    alert('Erreur lors de la mise à jour de la recette.');\n                });\n        } else {\n            // Effectuez une requête POST pour ajouter une nouvelle recette\n            axios.post('http://localhost:5000/recipe-list', recipe)\n                .then(response => {\n                    console.log(response.data);\n                    alert('Recette sauvegardée avec succès !');\n                })\n                .catch(error => {\n                    console.error('Erreur lors de la sauvegarde de la recette : ', error);\n                    alert('Erreur lors de la sauvegarde de la recette.');\n                });\n        }\n    };\n\n    return (\n        <div>\n            <h2>Modifier une recette</h2>\n            <form onSubmit={e => e.preventDefault()}>\n                {/* Votre formulaire existant */}\n                {/* ... */}\n                <button onClick={sauvegarderRecette}>Valider et sauvegarder la recette</button>\n            </form>\n        </div>\n    );\n}\n\nexport default ModifiedRecetteMealPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}